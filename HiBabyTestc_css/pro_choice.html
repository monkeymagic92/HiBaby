<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/pro_choice.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>Chocie</title>
</head>
<body>
    <div class="main-container">
        <header class="main-header">
			<ul id="headerBox" class="header-ul">
				<li><a class="li-a1" href="/index/select"><span id="li1">HiBaby</span></a></li>
				<li>
					<a class="li-a2" href="#">
						<span id="li2-1" onclick="showFrList(${loginUser.i_user})">친구 목록</span>
					</a>
				</li>
                <!--  <span id="showAlertMs" class="animate__flash animate__animated material-icons">chat</span>-->
				<li><a class="li-a2" href="#"><span id="li2"
						onclick="showUserList()">유저 목록</span></a></li>
				<li>
					<div class="dropdown">
						<button class="dropbtn">
							<c:if test="${loginUser.profile_img != null}">
								<img class="drop-img"
									src="/res/img/HiBaby/profile_img/user/${loginUser.i_user }/${loginUser.profile_img}"
									class="profileImg">
							</c:if>
							<c:if test="${loginUser.profile_img == null}">
								<img class="drop-img" src="/res/img/HiBaby.jpg"
									class="profileImg">
							</c:if>
						</button>
						<div class="dropdown-content">
							<a href="/user/myPage">마이페이지</a>
							<div class="hrDiv">
								<hr>
							</div>
							<a href="#" onclick="logOut()">로그아웃</a>
						</div>
					</div>
				</li>
			</ul>
		</header>
       

        <div class="choiceContainer">

            <h1 id="choiceMsg">고민되는 항목을 입력해 주세요.</h1>

            <div class="boxContainer">
                <div id="choiceBox">
                    <button type="button" id="categoryBox" onclick="categoryBox()">항목 추가</button>
                    <button type="button" id="allDel" onclick="allDelBtn()">전체 삭제</button>
                </div>
                <div id="insMoll">
                    <form id="choiceFrm" method="post">
                        <!--
                        <div id="insDiv">
                            <input class="ins" id="ins1" name="choiceArr" type="text">
                        </div>
                        -->
                        <div>
                            <button type="submit" id="choiceSubmit" onclick="choiceSubmit()">전송</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    


    

<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script>
    var count = 0;
    var arr = [];
    function categoryBox() {
        ++count
        var insDiv = document.createElement('div')
        insDiv.setAttribute('id', 'insDiv')
        
        var ins = document.createElement('input')
        ins.setAttribute('id', 'ins' + count)
        ins.setAttribute('class', 'ins')
        ins.setAttribute('name', 'choiceArr')

        var choiceDel = document.createElement('button')
        choiceDel.setAttribute('id', 'del' + count)
        choiceDel.setAttribute('type', 'button')
        choiceDel.setAttribute('class', 'choiceDel')
        choiceDel.innerText = '-'
        choiceDel.onclick = function() {
            
            $('#ins'+count).remove();
            $('#del'+count).remove();
            --count
            console.log('카운트 값' + count)
        }
        
        for(var i=0; i<count; i++) {
            arr[i-1] = $('#ins'+i).val();
        }
        choiceSubmit()

        insDiv.append(ins)
        insDiv.append(choiceDel)
        choiceFrm.append(insDiv)
        
    }

    function choiceSubmit() {
        console.log('arr ' + arr[0])
        console.log('arr ' + arr[1])
        console.log('arr ' + arr[2])
        console.log('arr ' + arr[3])
    }
   

    // 전체 삭제
    function allDelBtn() {
        for(var i=0; i<count; i++) {
            $('#insDiv').remove();
        }
    }

</script>
</body>
</html>
