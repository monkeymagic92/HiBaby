<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/studyMain.css">
    <link href="https://fonts.googleapis.com/css2?family=Hi+Melody&display=swap" rel="stylesheet">
</head>
<body>
    <div class="main-container">
        <!-- HEADER -->
        <header class="block">
            <ul class="header-menu horizontal-list">
                <li>
                    <a class="header-menu-tab" href="/index/select"><span
                            class="icon entypo-cog scnd-font-color"></span><span id="HiBabyLogo">HiBaby</span></a>
                </li>
                <li>
                    <a id="marginLefta" class="header-menu-tab" href="#1"><span
                            class="icon entypo-cog scnd-font-color"></span><span class="spanli">이동하기</span></a>
                </li>

                <li>
                    <a id="marginRighta" class="header-menu-tab" href="#3"><span
                            class="icon fontawesome-envelope scnd-font-color"></span><span class="spanli">쪽지함</span></a>
                    <a class="header-menu-number">5</a>
                </li>

            </ul>
            <div class="profile-menu">
                <ul class="nav">
                    <li class="button-dropdown">
                        <a href="javascript:void(0)" class="dropdown-toggle">
                            <img class="pimg" src="C:\Users\이재용\OneDrive\바탕 화면\img\HiBaby.jpg" class="profileImg">
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/user/myPage">
                                    마이페이지
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    Drop Item 2
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    Drop Item 3
                                </a>
                            </li>
                            <li>
                                <hr>
                                <a href="#" onclick="logOut()">
                                    로그아웃
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
        </header>
        <!-- Header -->

        <!-- studyMain -->
        
        <div class="container">
            
            <h2 id="h2-1">수학공부</h2>
            <img id="studyImg" onclick="openMath()" src="https://ichef.bbci.co.uk/news/640/cpsprodpb/164EE/production/_109347319_gettyimages-611195980.jpg">

            <br><br>

            <h2 id="h2-2">영어공부</h2>
            <img id="studyImg" onclick="openEng()" src="https://www.m-economynews.com/data/photos/20190731/art_15645477617625_faa6e5.png">

            <br><br>

            <h2 id="h2-3">구구단</h2>
            <img id="studyImg" onclick="#" src="https://t1.daumcdn.net/cfile/tistory/254193505769EE5E08">
            <br><br>

            <h2 id="h2-3">계산기</h2>
            <img id="showCarcul" onclick="#" src="https://t1.daumcdn.net/cfile/tistory/99F1383A5CD42CC219">
            <br><br>

        </div>

        <!-- 난이도 선택 모달창 -->
        <div id="mathModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <h4>수학 난이도 선택</h4>
                
                <!-- Modal body -->
                <div class="modal-body">
                    <form id="frm" action="#" method="post" onsubmit="return chk()">
                        <label>
                            상<input id="hard" type="radio" name="level" value="3">&nbsp;                        
                        </label>
                        <label>
                            중<input id="normal" type="radio" name="level" value="2">&nbsp;
                        </label>
                        <label>
                            하<input id="eazy" type="radio" name="level" value="1">&nbsp;
                        </label>
                        <br>
                        <input type="hidden" name="studyCode" value="1">
                        <button id="submitBtn" type="submit">수학 공부시작</button>
                    </form>
                </div>
                
                <!-- Modal bottom -->
                <button id="exitBtn" type="button" class="pop_bt" onclick="mathHide()">종료</button>
            </div>
        </div>


        <div id="engModal"" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <h4>영어 난이도 선택</h4>
                
                <!-- Modal body -->
                <div class="modal-body">
                    <form id="frm" action="#" method="post" onsubmit="return chk()">
                        <label>
                            상<input id="hard" type="radio" name="level" value="3">&nbsp;                        
                        </label>
                        <label>
                            중<input id="normal" type="radio" name="level" value="2">&nbsp;
                        </label>
                        <label>
                            하<input id="eazy" type="radio" name="level" value="1">&nbsp;
                        </label>
                        <br>
                        <input type="hidden" name="studyCode" value="2">
                        <button id="submitBtn" type="submit">영어 공부시작</button>
                    </form>
                </div>
                
                <!-- Modal bottom -->
                <button id="exitBtn" type="button" class="pop_bt" onclick="engHide()">종료</button>
            </div>

            
        </div>
        <!---->

        
    <div id="carModal" class="modalCar">
 
		<!-- Modal content -->
		<div class="modal-content-car">
            
		    <div class="modal-body">
                <button id="hideCarcul"><div id="x">X</div></button>    
                <!-- 계산기 -->
                <div id="calculator">
                    
                    <div class="top">
                        <span class="clear">C</span>
                        <div class="screen"></div>
                    </div>
                    
                    <div class="keys">
                        <span>7</span>
                        <span>8</span>
                        <span>9</span>
                        <span class="operator">+</span>
                        <span>4</span>
                        <span>5</span>
                        <span>6</span>
                        <span class="operator">-</span>
                        <span>1</span>
                        <span>2</span>
                        <span>3</span>
                        <span class="operator">÷</span>
                        <span>0</span>
                        <span>.</span>
                        <span class="eval">=</span>
                        <span class="operator">x</span>
                    </div>
                </div>

		    </div> <!-- body 끝 -->
		    
		    <!-- Modal bottom -->
		</div>
    </div>
        
        <div id="gugudan"></div>



        

    </div>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>

function openMath() {
    mathModal.style.display = 'flex'
}

function openEng() {
    engModal.style.display = 'flex'
}

//모달창 종료
function mathHide() {
	mathModal.style.display = 'none'
}

function engHide() {
    engModal.style.display = 'none'
}

$('#carModal').hide(); 

jQuery('#showCarcul').click(function() {
	    $('#carModal').show();
	});

jQuery('#hideCarcul').click(function() {
    $('#carModal').hide(); 
});


var keys = document.querySelectorAll('#calculator span');
var operators = ['+', '-', 'x', '÷'];
var decimalAdded = false;


for(var i = 0; i < keys.length; i++) {
	keys[i].onclick = function(e) {
		
		var input = document.querySelector('.screen');
		var inputVal = input.innerHTML;
		var btnVal = this.innerHTML;
		var total;
		if(btnVal == 'C') {
			input.innerHTML = '';
			decimalAdded = false;
		}
		
		else if(btnVal == '=') {
			var equation = inputVal;
			var lastChar = equation[equation.length - 1];
			
			equation = equation.replace(/x/g, '*').replace(/÷/g, '/');
			
			if(operators.indexOf(lastChar) > -1 || lastChar == '.')
				equation = equation.replace(/.$/, '');
			
			if(equation)
				{
             total = eval(equation);
              if(total.toString().indexOf('.') != -1)
                total= total.toFixed(2);
          
          input.innerHTML = total;
        }
				
			decimalAdded = false;
		}
		
		
		else if(operators.indexOf(btnVal) > -1) {
			
			var lastChar = inputVal[inputVal.length - 1];
			
			if(inputVal != '' && operators.indexOf(lastChar) == -1) 
				input.innerHTML += btnVal;
			
			else if(inputVal == '' && btnVal == '-') 
				input.innerHTML += btnVal;
			
			if(operators.indexOf(lastChar) > -1 && inputVal.length > 1) {
				input.innerHTML = inputVal.replace(/.$/, btnVal);
			}
			
			decimalAdded =false;
		}
		
		else if(btnVal == '.') {
			if(!decimalAdded) {
				input.innerHTML += btnVal;
				decimalAdded = true;
			}
		}
		
		else {
			input.innerHTML += btnVal;
		}
		
		e.preventDefault();
	} 
}




// 구구단 표 만들기 메소드
function make() {
    var result = 0
    var stringText = document.createElement('div')
    var br = document.createElement('br')
    br.setAttribute('class', 'br')
    var text;
    
    for(var i=1; i<=15; i++) {
        result = 2 * i
        
        text = '2 x ' + i + ' = ' + result
        stringText.append(text)
        
        gugudan.append(stringText)
        
    }
}
</script>
</body>
</html>